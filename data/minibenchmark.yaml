---
name: minibenchmark
description: a small benchmark
version: 0.01
gitlab: https://gitlab.renkulab.io/
orchestrator:
  name: mini_orchestrator
  url: omnibenchmark/mini/orchestrator
stages:
  0_data:
    initial: true
    members:
      - name: iris
        repo: omnibenchmark/mini/iris
      - name: cars
        repo: omnibenchmark/mini/cars
    outputs:
      - counts: output/{name}/{stage}/{reponame}/{name}.txt.gz
      - meta: output/{name}/{stage}/{reponame}/{name}.meta.json
      - data_specific_params: output/{name}/{stage}/{reponame}/{name}_params.txt
  1_preprocess:
    after: 0_data
    members:
      - name: log_transform
        repo: omnibenchmark/test/log
        parameters:
          - offset:
              - 1
              - 2
          - log_base:
              - 2
              - e
              - 10
        exclude:
          - cars
      - name: sqrt_transform
        repo: omnibenchmark/test/sqrt
    inputs:
      - counts: output/{name}/0_output/{reponame}/{name}.txt.gz
        meta: output/{name}/0_output/{reponame}/{name}.txt.gz
    outputs:
      - filtered: output/{name}/{stage}/{reponame}/{name}.txt.gz


